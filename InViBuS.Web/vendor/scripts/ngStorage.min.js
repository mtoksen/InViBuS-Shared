"use strict";(function(){function n(n){return["$rootScope","$window",function(t,i){for(var f=i[n]||(console.warn("This browser does not support Web Storage!"),{}),r={$default:function(n){for(var t in n)angular.isDefined(r[t])||(r[t]=n[t]);return r},$reset:function(n){for(var t in r)"$"===t[0]||delete r[t];return r.$default(n)}},u,o,s=0,e;s<f.length;s++)(e=f.key(s))&&"ngStorage-"===e.slice(0,10)&&(r[e.slice(10)]=angular.fromJson(f.getItem(e)));return u=angular.copy(r),t.$watch(function(){o||(o=setTimeout(function(){if(o=null,!angular.equals(r,u)){angular.forEach(r,function(n,t){angular.isDefined(n)&&"$"!==t[0]&&f.setItem("ngStorage-"+t,angular.toJson(n));delete u[t]});for(var n in u)f.removeItem("ngStorage-"+n);u=angular.copy(r)}},100))}),"localStorage"===n&&i.addEventListener&&i.addEventListener("storage",function(n){"ngStorage-"===n.key.slice(0,10)&&(n.newValue?r[n.key.slice(10)]=angular.fromJson(n.newValue):delete r[n.key.slice(10)],u=angular.copy(r),t.$apply())}),r}]}angular.module("ngStorage",[]).factory("$localStorage",n("localStorage")).factory("$sessionStorage",n("sessionStorage"))})();
//# sourceMappingURL=ngStorage.min.js.map
